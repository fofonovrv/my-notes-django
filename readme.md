# Личная шпаргалка по django

### Уроки: https://github.com/selfedu-rus/django-lessons

## Классы, Модели и Базы данных:
### поле для автоматической записи даты и времени создания записи в таблице БД:
```
time_create = models.DateTimeField(auto_now_add=True)
```
### Аргументы поля.
Ссылка на документацию https://docs.djangoproject.com/en/2.2/ref/models/fields/

для обновления записи:
```
auto_now=True
```
для индексации поля (для более быстрого поиска по таблице)
```
db_index = true
```
разрешить оставлять поле без значения:
```
null=True
```
разрешить оставлять значение пустым, для текстовых и строковых полей:
```
blank=True
```
 ## Созданеи записей в БД
 ### "Ленивое" наполнение БД. Создаем экземпляр класса
 ```
 user1 = Users()
 ```
 ### в разны частях приложения наполняем его
 ```
 user1.name = 'Misha'
 user1.email = 'misha@mail.ru'
 ```
 ### в нужный нам момент сохраняем, только в этот момент объект класса модели создается в БД как запись
 ```
 user1.save()
 ```
 ### второй вариант. с помощью стандартного метода objects.create() сразу создаем запись в БД и присваиваем ее экземпляру класса
```
user2 = Users.objects.create(name='BorisB', email='borya@mail.ru')
```
 ### или вообще не создавать экземляр класса, а только запись в БД
```
Users.objects.create(name='BorisB', email='borya@mail.ru')
```
## чтение записей из БД
### считать сразу все записи таблицы
```
Users.objects.all()
```
### чтобы .all() отобразил читабельные названия/имена записей, в моделе должен быть метод str
```
    def __str__(self):
        return self.name
```
### считываем все записи таблицы, помещаем их в список, затем можем обращаться к отдельным полям элементов списка
```
u = Users.objects.all()
print(u[0].name, u[1].name)
```
